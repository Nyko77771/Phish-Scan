{"version":3,"file":"background.js","mappings":";;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://phishscan/./src/background.js"],"sourcesContent":["const tab = new Map();\r\n\r\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\r\n  if (request.message === \"updateStatus\" && sender.tab) {\r\n    const tabId = sender.tab.id.toString();\r\n    chrome.storage.local.set({\r\n      [tabId]: {\r\n        emailServiceDetected: request.emailServiceDetected,\r\n        emailOpenCheck: request.emailOpenedCheck,\r\n        url: request.url,\r\n      },\r\n    });\r\n  }\r\n  if (request.message === \"tabStatus\") {\r\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n      const defaultResponse = {\r\n        emailServiceDetected: false,\r\n        emailOpenedCheck: false,\r\n      };\r\n\r\n      if (tabs.length === 0) {\r\n        console.log(`No tabs open`);\r\n        sendResponse(defaultResponse);\r\n        return;\r\n      }\r\n\r\n      const tabId = tabs[0].id.toString();\r\n\r\n      chrome.storage.local.get(tabId, (result) => {\r\n        const tabData = result[tabId] || defaultResponse;\r\n\r\n        sendResponse(tabData);\r\n      });\r\n    });\r\n    return true;\r\n  }\r\n});\r\n"],"names":[],"sourceRoot":""}